<!doctype html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Mocha Spec Runner</title>
  <link rel="stylesheet" href="lib/mocha/mocha.css">
</head>
<body>
  <div id="mocha"></div>
  <script src="lib/mocha/mocha.js"></script>
  <script>mocha.setup('bdd')</script>

  <!-- assertion framework -->

  <script src="lib/chai.js"></script>


  <script>
    expect = chai.expect;
    assert = chai.assert;
  </script>




  <!-- -->

  <!-- include source files here... -->

  <script src="../temp/scripts/gameoflife/GameOfLifeGrid.js"></script>
  <script src="../temp/scripts/gameoflife/GameOfLifeBoard.js"></script>

  <!-- include spec files here... -->
  <script>
  // replace this by your own specs
  (function() {

    var liveGrid = [
      ['alive', 'alive', 'alive', 'alive', 'alive'],
      ['alive', 'alive', 'alive', 'alive', 'alive'],
      ['alive', 'alive', 'alive', 'alive', 'alive'],
      ['alive', 'alive', 'alive', 'alive', 'alive'],
      ['alive', 'alive', 'alive', 'alive', 'alive']
    ];

    describe('Game of Life Grid', function() {
      describe('Initialization', function() {

        it('should be an empty grid', function() {
          var grid = new GameOfLifeGrid();
          assert.equal(grid.grid[0][0], 'dead');
        });

        it('should still be an empty grid', function() {
          var grid = new GameOfLifeGrid();
          var g = grid.grid;
          assert.equal(g[g.length - 1][g.length - 1], 'dead');
        });

        it('should accept height and width in the constructor', function() {
          var grid = new GameOfLifeGrid({
            height : 5,
            width  : 5
          });
          var g = grid.grid;
          assert.equal(g.length, 5);
          assert.equal(g[0].length, 5);
        });

        it('should accept a grid[][] in the constructor', function() {
          var grid = new GameOfLifeGrid({
            height : 5,
            width  : 5,
            grid   : liveGrid
          });
          var g = grid.grid;
          assert.equal(g[4][4], 'alive');
        });

      });

      describe('Cycles', function() {

        it('should have a dead cell after two cycles', function() {
          var grid = new GameOfLifeGrid({
            height : 5,
            width  : 5,
            grid   : liveGrid
          });
          var g = grid.grid;

          grid.cycle();
          assert.equal(g[4][4], 'alive');

          grid.cycle();
          assert.equal(g[4][4], 'dead');
        });
      });
    });
  })();
  </script>

  <!-- trigger the mocha runner -->
  <script src="runner/mocha.js"></script>

</body>
</html>
